/*! Verge <0.0.2@2016-04-12T12:25Z> | Copyright (c) 2015-2016 1VERGE, Inc | Released under the MIT license | https://github.com/vergeplayer/Verge/blob/master/LICENSE */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.verge=n():e.verge=n()}(this,function(){return function(e){function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){if("function"!=typeof vQ||!vQ.fn||!vQ.extend)throw new TypeError("The Verge need The vQ : npm install vQ --save");"undefined"==typeof HTMLVideoElement&&(document.createElement("video"),document.createElement("audio"),document.createElement("track"));var i=t(1);t(12);var r=window.verge;i.extend({utils:t(2),browser:t(3),playerApi:t(9),fullscreenApi:t(10),log:t(11),ObjectCreate:t(6),CoreObject:t(5),Event:t(13),EventManager:t(7),VideoPlayer:t(4),noConflict:function(){return window.verge==i&&(window.verge=r),i}}),e.exports=i},function(e,n,t){var i=t(2),r=t(3),o=t(4),a=function(e,n){return new a.fn.init(e,n)},s={};a.fn={constructor:a,length:0,init:function(e,n){var t=this;if(vQ.isFunction(e))vQ.ready(e),n&&log.warn("the selector is not String or Dom Element,Options will not be applied.");else{var r=vQ(e),o=a.dispatch(e,n);r.each(function(e,r){if(r.nodeName){var a;if(r.playerId)a=s[r.playerId],a.options(n);else{var l=i.guid();r.playerId=l,a=new o(r,n),s[l]=a}t[e]=a,t.length++}})}return this},each:function(e){for(var n=0,t=this.length;t>n;n+=1)e.call(this[n],n,this[n]);return this}},a.fn.init.prototype=a.fn,a.extend=a.fn.extend=function(){vQ.extend.apply(this,arguments)},a.extend({version:"0.0.2",dispatch:function(e,n){if(r.supportHTML5Video)return o;throw r.isSupportFlash?new Error("Please Use Flash Player"):new Error("The Device not support")}}),e.exports=a},function(e,n){function t(e,n){return(Array(n).join(0)+e).slice(-n)}var i=(new Date).getTime().toString(16).substring(4,10),r=0,o={isDOMElement:function(e){return e&&1===e.nodeType},isVideoElement:function(e){return o.isDOMElement(e)&&"video"==e.nodeName.toLowerCase()},guid:function(){return i+"_"+r++},long2array:function(e){var n,i=[],r=[60,1];return e>=3600&&(r=[3600,60,1]),r.forEach(function(r){i.push(t(n=e/r|0,2)),e-=n*r}),i},long2time:function(e){var n=o.long2array(e);return n.join(":")},long2text:function(e){for(var n=[],t=o.long2array(e),i=2,r=t.length-1;r>=0;r--){var a=parseInt(t[r]);n.unshift(a+uint[unitIndex[i]]),i--}return n.join("")},time2long:function(e){for(var n=e.split(":"),t=0,i=n.length,r=i-1;r>=0;r--){var o=parseInt(n[r]);if(!isNaN(o)){for(var a=i-r-1,s=0;a>s;s++)o*=60;t+=o}}return t}};o.extend=function(){vQ.extend.apply(this,arguments)},e.exports=o},function(e,n){function t(){var e=0,n=0,t=0;try{var i=i||function(){};if(document.all){var r=new i("ShockwaveFlash.ShockwaveFlash");if(r){e=1;var o=r.GetVariable("$version");n=parseInt(o.split(" ")[1].split(",")[0])}}else if(navigator.plugins&&navigator.plugins.length>0){var a=navigator.plugins["Shockwave Flash"];if(a){e=1;for(var s=a.description.split(" "),l=0;l<s.length;++l)isNaN(parseInt(s[l]))||(n=parseInt(s[l]))}}}catch(c){e=1,t=1}return{f:e,v:n,e:t}}var i={},r=document.createElement("video"),o={MP4:"video/mp4",OGG:"video/ogg",WEBM:"video/webm"},a={isWin:"Win",isMac:"Mac",isSafari:"Safari",isChrome:"Chrome",isFirefox:"Firefox",isIPAD:"iPad",isIPAD7:"iPad; CPU OS 7",isIPHONE:"iPhone",isIPOD:"iPod",isLEPAD:"lepad_hls",isMIUI:"MI-ONE",isAndroid:"Android",isAndroid4:"Android 4.",isAndroid41:"Android 4.1",isSonyDTV:"SonyDTV",isBlackBerry:"BlackBerry",isMQQBrowser:"MQQBrowser",isMobile:"Mobile",isSamSung:"SAMSUNG",isHTC:"HTC",isLumia:"Lumia",isVIVO:"vivo",isWeixin:"MicroMessenger"};if(i.supportHTML5Video=!1,i.isIOS=!1,i.os="",r.canPlayType){i.supportHTML5Video=!0;for(var s in o)r.canPlayType(o[s])?i["canPlay"+s]=!0:i["canPlay"+s]=!1}var l=navigator.userAgent;for(var c in a)if(-1!==l.indexOf(a[c])?(i[c]=!0,i.os+=a[c]+" "):i[c]=!1,-1!==l.indexOf("Android")){var u=l.indexOf("Android"),d=l.substr(u,10);d>a.isAndroid4&&(i.isAndroid4=!0,i.os+=d+" ")}i.isMobileIOS=i.isIPAD||i.isIPHONE||i.isIPOD,i.isIOS=i.isMobileIOS||i.isMac,i.isSupportH5M3U8=i.isMobileIOS||i.isMac&&i.isSafari&&!i.isChrome||i.isLEPAD||i.isSonyDTV,i.isSupportH5MP4=(i.isChrome||i.isIE10||i.isAndroid41||i.isAndroid4||i.isLumia)&&i.canPlayMP4;var v=t();i.isSupportFlash=v.f&&!v.e,(i.isMQQBrowser||i.isLumia)&&(i.isSupportFlash=!1),i.isPhone=i.isIPHONE||i.isIPOD||i.isAndroid&&i.isMobile,i.isAndroidPad=i.isAndroid&&!i.isMobile,i.isPad=i.isIPAD||i.isAndroidPad,i.isMobile=i.isIPAD||i.isIPHONE||i.isIPOD||i.isLEPAD||i.isMIUI||i.isAndroid4||i.isSonyDTV||i.isLumia,e.exports=i},function(e,n,t){var i=t(5),r=t(3),o=t(7),a=t(2),s=[].slice,l=t(9),c=t(10)(document.createElement("video")),u=t(11),d=i.extend({init:function(e,n){var t=this;if(e instanceof vQ&&(e=e[0]),!a.isVideoElement(e))throw new TypeError("The video not a video element");n=vQ.merge({isWeixin:r.isWeixin,controls:!1},n),t.video=e,t.options(n),t.bindEvents()},options:function(e){var n=this;if(arguments.length>0){var t=["isWeixin","attr","plugins"].join("-")+"-";if(vQ.isPlainObject(e)){var i={};vQ.each(e,function(e,n){t.indexOf(e+"-")<0&&(i[e]=n)}),e.isWeixin&&(i["webkit-playsinline"]=""),e.attr&&(vQ.isPlainObject(e.attr)?vQ.each(e.attr,function(e,n){i[e]=n}):i.attr=e.attr),n.attr(i),e.plugins&&vQ.each(e.plugins,function(e,n){vQ.isFunction(this[e])?this[e](n):u.error("Unable to find plugin:",e)},this),n._options=vQ.merge(n._options||{},e)}else if("string"==typeof e){if(arguments.length>1){var i={};i[e]=arguments[1],n.options(i)}return t.indexOf(e+"-")>=0?n._options[e]:n.attr(e)}}return n._options},currentTime:function(e,n){var t=this;if(arguments.length>0){var i,r=function(){i&&(clearTimeout(i),i=void 0)},o=function(){t.video.currentTime=e,vQ.isFunction(n)&&n(),r(),t.video.play()},a=this.video.seekable;if(1==a.length&&e<a.end(0))try{o()}catch(s){t.one("onCanPlay",function(){o()})}else{r();var l=arguments.callee;i=setTimeout(function(){l.apply(t,arguments)},100)}}return this.video.currentTime},src:function(e){if(arguments.length>0){var n=!this._options.autoplay;if(this.video.src&&(n=this.video.paused),this.video.paused||this.video.pause(),this.video.src=e,this.video.load(),!n){var t=this;this.one("canplay",function(){t.play()}),this.play()}}return this.video.src},fullscreen:function(e){if(arguments.length>0&&e!=this.isFullscreen){var n=this;e?r.isIPAD?(n._enterFullWindow(),n.trigger("onFullscreenChange",[n.isFullWindow])):this.requestFullscreen():r.isIPAD?(n._exitFullWindow(),n.trigger("onFullscreenChange",[n.isFullWindow])):this.exitFullscreen()}return this.isFullscreen},requestFullscreen:function(){var e=this;return c.requestFullscreen?e._enterFullscreen():(e.isFullscreen=!0,e._enterFullWindow(),e.trigger("onFullscreenChange",[e.isFullscreen])),this},_enterFullscreen:function(){var e=this.video;e.paused&&e.networkState<=e.HAVE_METADATA?(e.play(),setTimeout(function(){e.pause(),e[c.requestFullscreen]()},0)):e[c.exitFullscreen]()},_enterFullWindow:function(){var e=this;e.isFullWindow=!0,e.docOrigOverflow=document.documentElement.style.overflow,vQ.bind(document,"keydown",e._fullWindowOnEscKey,e),document.documentElement.style.overflow="hidden",vQ.addClass(document.body,"vvp-full-window"),e.trigger("onFullWindowChange",[e.isFullWindow])},_fullWindowOnEscKey:function(e){27===e.keyCode&&(this.isFullscreen===!0?this.exitFullscreen():this._exitFullWindow())},exitFullscreen:function(){var e=this;return e.isFullscreen=!1,c.exitFullscreen?e.video[c.exitFullscreen]():(this._exitFullWindow(),e.trigger("onFullscreenChange",[e.isFullscreen])),this},_exitFullWindow:function(){this.isFullWindow=!1,vQ.unbind(document,"keydown",this._fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,vQ.removeClass(document.body,"vvp-full-window"),this.trigger("onFullWindowChange",[this.isFullWindow])},removeEvent:function(){var e=this;vQ.each(l.callbacks,function(n,t){var i=e[t].eventTarget;vQ.unbind(e.video,n,i)})},bindEvents:function(){var e=this;vQ.each(l.callbacks,function(n,t){var i=function(){var n=e[t].apply(e,arguments);0!=n&&e.trigger(t,arguments)};vQ.bind(e.video,n,i),e[t].eventTarget=i}),c.requestFullscreen&&(vQ.bind(e.video,c.fullscreenchange,function(){e.trigger("onFullscreenChange",[])}),vQ.bind(e.video,c.fullscreenerror,function(){e.trigger("onFullscreenError",[])}))},attr:function(e){var n=l.attrs.readonly.concat(l.attrs.specialReadonly),t=l.attrs.readwrite.concat(l.attrs.specialReadwrite),i=this;if(vQ.isPlainObject(e)){var r={};vQ.each(e,function(e,o){for(var a=!1,l=0,c=n.length;c>l;l++)if(e.toLowerCase()==n[l].toLowerCase()){a=!0;break}if(!a)for(var u=0,d=t.length;d>u;u++)if(e.toLowerCase()==t[u].toLowerCase()){a=!0,i[t[u]].apply(i,s.call(arguments,1));break}a||(r[e]=o)}),vQ.attr(this.video,r)}else if("string"==typeof e){for(var o=n.concat(t),a=0,c=o.length;c>a;a++)if(e.toLowerCase()==o[a].toLowerCase())return i[o[a]].apply(i,s.call(arguments,1));return vQ.attr.apply(vQ,[this.video].concat(s.call(arguments)))}},plugin:function(e,n){return this.expand({name:n}),this}});d.expand(function(){var e={},n=l.methods,t=l.callbacks,i=l.attrs;return events=new o,vQ.each(["bind","unbind","one","trigger"],function(n,t){e[t]=function(){var e=this,n=s.call(arguments);if(vQ.isArray(n[0]))vQ.each(n[0],function(i,r){e[t].apply(e,[r].concat(n.slice(1)))});else if("string"==typeof n[0]){n[0]=n[0].toLowerCase(),0==n[0].indexOf("on")&&(n[0]=n[0].substring(2));var i=events[t].apply(events,n);if(null!=i)return i}return e}}),vQ.each(n["native"].concat(n.specialNative),function(n,t){e[t]=function(){var e=this;return e.video[t].apply(e.video,arguments),e}}),vQ.each(i.readonly.concat(i.specialReadonly),function(n,t){e[t]=function(){var e=vQ.attr(this.video,t);return vQ.isFunction(e)?e.apply(this.video,arguments):e}}),vQ.each(i.readwrite,function(n,t){e[t]=function(e){return arguments.length>0?vQ.attr(this.video,t,e):vQ.attr(this.video,t)}}),vQ.each(n.callbacks.concat(n.specialNative).concat(i.specialReadonly),function(n,i){var r=t[i.toLowerCase()]||i;e[r]=function(){u(r,arguments)}}),e}()),e.exports=d},function(e,n,t){var i=t(6),r=!1,o=/'xyz'/.test(function(){"xyz"})?/\b_super\b/:/.*/,a=function(){};a.extend=function(e){function n(e,n){return function(){var t=this._super;this._super=i[e];var r=n.apply(this,arguments);return this._super=t,r}}function t(){!r&&this.init&&this.init.apply(this,arguments)}var i=this.prototype,s=arguments.length;r=!0;var l=new this;r=!1;for(var c=0;s>c;c++){var u=arguments[c];vQ.isFunction(u)&&vQ.isFunction(u.extend)&&(u=u.prototype);for(var d in u)l[d]="function"==typeof u[d]&&"function"==typeof i[d]&&o.test(u[d])?n(d,u[d]):u[d]}return t.prototype=l,t.prototype.constructor=t,t.extend=arguments.callee,t.create=a.create,t.expand=a.expand,t},a.create=function(){var e=i(this.prototype);return this.apply(e,arguments),e},a.expand=function(e){vQ.extend.apply(this.prototype,arguments)},e.exports=a},function(e,n){var t=Object.create||function(e){function n(){}return n.prototype=e,new n};e.exports=t},function(e,n,t){var i=t(5),r=[].slice,o=t(8),a=+(new Date).getTime().toString().substring(5),s=i.extend({init:function(e,n){this._handlers={},this._contexts={},this._target=n;var t=this;e&&vQ.each(e,function(e,n){t.bind(e,n)})},bind:function(e,n,t){var i=this;if(vQ.isArray(e))return i._handleMultipleEvents.apply(i,[i.bind].concat(r.call(arguments)));n.$$guid||(n.$$guid=a++),t&&(this._contexts[n.$$guid]=t);var o=i._handlers[e];o||(o=i._handlers[e]={}),o[n.$$guid]=n},unbind:function(e,n,t){var i=this;if(vQ.isArray(e))return i._handleMultipleEvents.apply(i,[i.unbind].concat(r.call(arguments)));var o=i._handlers[e];if(o){i._contexts[n.$$guid]&&delete i._contexts[n.$$guid],delete o[n.$$guid];var a=!1;for(var s in o)a=!0;a||delete i._handlers[e]}},one:function(e,n,t){var i=this,o=r.call(arguments);if(vQ.isArray(e))return i._handleMultipleEvents.apply(i,[i.one].concat(o));var s=function(){i.unbind(e,s),n.apply(t||n,arguments)};s.$$guid=n.$$guid=n.$$guid||a++,i.bind(e,s)},trigger:function(e,n,t){var i=this;if(!e)throw new TypeError("need the 'type'");var r;e.constructor==o?(r=e,r.currentTarget=i._target):r=new o(e,i._target);var a=i._handlers[r.type];if(a){n=[r].concat(null==n?[]:vQ.isArray(n)?n:[n]);for(var s in a){t=t||i._contexts[a[s].$$guid];var l=a[s].apply(t||this,n);void 0!==l&&(r.result=l)===!1&&r.stopPropagation()}}return r},_handleMultipleEvents:function(e,n){var t=this,i=r.call(arguments,2);vQ.each(n,function(n,r){e.apply(t,[r].concat(i))})}});e.exports=s},function(e,n,t){var i=t(5),r=i.extend({type:"",target:null,currentTarget:null,cancelBubble:!1,fall:!1,result:null,init:function(e,n){"string"==typeof e&&(this.type=e),n&&(this.target=n,this.currentTarget=n)},stopPropagation:function(){this.cancelBubble=!0}});e.exports=r},function(e,n){var t={methods:{events:["bind","unbind","one","trigger"],"native":["load"],specialNative:["play","pause"],callbacks:["abort","canPlay","canPlayThrough","durationChange","emptied","loadedData","loadedMetaData","loadStart","playing","progress","rateChange","readyStateChange","seeked","stalled","suspend","timeUpdate","volumeChange","waiting","fullScreenChange","fullWindowChange"]},attrs:{readonly:["duration","currentSrc","buffered","played","readyState","seekable","networkState","videoWidth","videoHeight","canPlayType"],specialReadonly:["ended","error","seeking"],readwrite:["autoplay","height","width","loop","preload","paused","poster","muted","volume","controls","playbackRate"],specialReadwrite:["src","currentTime","fullscreen"]},callbacks:{abort:"onAbort",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",durationchange:"onDurationChange",emptied:"onEmptied",ended:"onEnded",error:"onError",loadeddata:"onLoadedData",loadedmetadata:"onLoadedMetaData",loadstart:"onLoadStart",pause:"onPause",play:"onPlay",playing:"onPlaying",progress:"onProgress",ratechange:"onRateChange",readystatechange:"onReadyStateChange",seeked:"onSeeked",seeking:"onSeeking",stalled:"onStalled",suspend:"onSuspend",timeupdate:"onTimeUpdate",volumechange:"onVolumeChange",waiting:"onWaiting"}};e.exports=t},function(e,n){var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=t[0];e.exports=function(e){for(var n,e=e||document,r=0;r<t.length;r++)if(t[r][1]in e){n=t[r];break}var o={};if(n)for(var a=0;a<n.length;a++)o[i[a]]=n[a];return o}},function(e,n){var t=function(){},i=window.console||{log:t,warn:t,error:t},r=function(e,n){var t=[].slice.call(n);e?t.unshift(e.toUpperCase()+":"):e="log",o.history.push(t),t.unshift("verge:"),i[e].apply?i[e].apply(i,t):i[e](t.join(" "))},o=function(){r("log",arguments)};o.error=function(){r("error",arguments)},o.warn=function(){r("warn",arguments)},o.history=[],e.exports=o},function(e,n,t){var i=t(1),r=t(9),o=[].slice;i.fn.extend(function(){var e={},n=r.methods,t=r.attrs;return vQ.each(n.events.concat(n["native"]).concat(["plugin"]),function(n,t){e[t]=function(){var e=o.call(arguments);return this.each(function(n,i){i[t].apply(i,e)}),this}}),vQ.each(n.specialNative,function(n,t){e[t]=function(e,n){if(arguments.length>0&&vQ.isFunction(e)){var i=[t].concat(o.call(arguments));this.each(function(e,n){n.bind.apply(n,i)})}if(n!==!1){var r=o.call(arguments);this.each(function(e,n){n[t].apply(n,r)})}return this}}),vQ.each(t.readonly,function(n,t){e[t]=function(){var e=this[0];return e?e[t].apply(e,arguments):void 0}}),vQ.each(t.specialReadonly,function(n,t){e[t]=function(e){if(arguments.length>0&&vQ.isFunction(e)){var n=[t].concat(o.call(arguments));this.each(function(e,t){t.bind.apply(this,n)})}var i=this[0];return i?i[t].apply(i,arguments):void 0}}),vQ.each(t.readwrite.concat(t.specialReadwrite).concat(["attr","options"]),function(n,t){e[t]=function(e){(arguments.length>1||vQ.isPlainObject(e))&&this.each(function(e,n){n[t].apply(n,arguments)});var n=this[0];return n?n[t].apply(n,o.call(arguments)):void 0}}),vQ.each(n.callbacks,function(n,t){e[t]=function(){var e=this,n=[t].concat(o.call(arguments));return e.each(function(e,t){t.bind.apply(t,n)}),this}}),e}())},function(e,n,t){var i=t(5),r=i.extend({type:"",target:null,currentTarget:null,cancelBubble:!1,fall:!1,result:null,init:function(e,n){"string"==typeof e&&(this.type=e),n&&(this.target=n,this.currentTarget=n)},stopPropagation:function(){this.cancelBubble=!0}});e.exports=r}])});